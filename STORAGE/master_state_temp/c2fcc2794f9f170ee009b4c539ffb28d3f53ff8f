{"39d7436016f6a3f968beda532031359402d464561f142d41cbd0443e22086d29": {"total": 0.0, "marketplace_profit_details": {}, "utxos": ["ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0"], "utxos_data": {"ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0": {"output": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "timestamp": 1717152316.608396, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "31f2ac8088005412c7b031a6e342b17a65a48d01"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": true, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 999771.2676, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, null, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152316.559166, "", "", "", 0, 0, null, 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 228, "smart_contract_type": "source", "smart_contract_payload": "\n###VERSION:1\n\nclass MarketplaceRequest:\n    def __init__(self):\n        self.account=None\n        self.step=0\n        self.new_user_flag=False\n        self.timestamp=datetime.timestamp(datetime.utcnow())\n        self.timestamp_step1=None\n        self.timestamp_step2=None\n        self.timestamp_step3=None\n        self.timestamp_step4=None\n        self.requested_amount=0\n        self.requested_currency='EUR'\n        self.requested_deposit=0\n        self.requested_nig=0\n        self.requested_nig_step2=None\n        self.requested_nig_step2_flag=False\n        self.timestamp_nig=None\n        self.buyer_public_key_hex=None\n        self.buyer_public_key_hash=None\n        self.buyer_public_key_hash=None\n        self.buyer_reput_trans=0\n        self.buyer_reput_reliability=0\n        self.seller_public_key_hex=\"\"\n        self.seller_public_key_hash=\"\"\n        self.encrypted_account=\"\"\n        self.mp_request_signature=None\n        self.mp_request_id=random.randint(10000000, 99999999)\n        self.previous_mp_request_name=None\n        self.mp_request_name=None\n        self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n        self.smart_contract_ref=None\n        self.reputation_buyer=0\n        self.reputation_seller=0\n\n    def get_mp_details(self,step):\n        mp_details = [self.timestamp,self.buyer_public_key_hash,self.buyer_public_key_hex,self.requested_amount,self.mp_request_id]\n        if self.requested_nig_step2_flag is True:requested_nig=self.requested_nig_step2\n        else:requested_nig=self.requested_nig\n        if self.step>=1:\n            self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n            mp_details.extend([requested_nig,self.seller_safety_coef])\n        if self.step>=2:mp_details.extend([self.seller_public_key_hex,self.seller_public_key_hash,self.requested_deposit])\n        if self.step==99:mp_details.append(\"cancellation\")\n        if self.step==66:mp_details.append(\"payment default\")\n        return mp_details\n\n    def get_requested_deposit(self):\n        return self.requested_deposit\n\n    def get_new_user_flag(self):\n        return self.new_user_flag\n\n    def get_reputation(self):\n        if self.reputation_buyer!=0 or self.reputation_seller!=0:return {self.buyer_public_key_hash:self.reputation_buyer,self.seller_public_key_hash:self.reputation_seller}\n        else:return None\n\n    def get_mp_info(self,step,user_public_key_hash):\n        try:step=int(step)\n        except:step=99\n        mp_details=None\n        flag=False\n        readonly_flag=False\n        if self.step!=4 and self.step!=45 and self.step!=66 and self.step!=98 and self.step!=99:\n            if step==1:\n                flag=True\n                if self.buyer_public_key_hash==user_public_key_hash:readonly_flag=True\n            if step==2:\n                if self.buyer_public_key_hash==user_public_key_hash:flag=True\n                if self.step==1:readonly_flag=True\n                if self.step==3:readonly_flag=True\n            if step==3:\n                if self.seller_public_key_hash==user_public_key_hash:flag=True\n                if self.step==2:readonly_flag=True\n            if flag is True:\n                mp_details = {\"timestamp_nig\": self.timestamp,\"requester_public_key_hash\": self.buyer_public_key_hash,\"requester_public_key_hex\": self.buyer_public_key_hex,\"seller_public_key_hash\": self.seller_public_key_hash,\"requested_amount\": self.requested_amount,\"requested_currency\":self.requested_currency,\"requested_nig\": self.requested_nig,\"payment_ref\": self.mp_request_name}\n                mp_details['seller_public_key_hex']=self.seller_public_key_hex\n                mp_details['encrypted_account']=self.encrypted_account\n                mp_details['smart_contract_ref']=self.smart_contract_ref\n                mp_details['readonly_flag']=readonly_flag\n                mp_details['buyer_reput_trans']=self.buyer_reput_trans\n                mp_details['buyer_reput_reliability']=self.buyer_reput_reliability\n                mp_details['step']=self.step\n        return mp_details\n\n    def get_mp_info_archive(self,step):\n        mp_details=None\n        if step==self.step:\n            mp_details = {\"timestamp_nig\": self.timestamp_step4, \"readonly_flag\":False}\n        return mp_details\n\n    def step1(self,mp_request_name,buyer_public_key_hash,buyer_public_key_hex,requested_amount,smart_contract_ref,new_user_flag,buyer_reput_trans,buyer_reput_reliability):\n        if buyer_public_key_hash is not None and 'None' not in buyer_public_key_hash:\n            if self.step==0:\n                self.mp_request_name=mp_request_name\n                self.buyer_public_key_hash=buyer_public_key_hash\n                self.buyer_public_key_hex=buyer_public_key_hex\n                self.requested_amount=requested_amount\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)\n                self.step=1\n                self.smart_contract_ref=smart_contract_ref\n                self.timestamp_step1=datetime.timestamp(datetime.utcnow())\n                if new_user_flag==\"True\" or new_user_flag==\"True\":new_user_flag=True\n                if new_user_flag==\"False\" or new_user_flag==\"False\":\n                    new_user_flag=False\n                    self.requested_deposit=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)*GET_BUYER_SAFETY_COEF()\n                self.new_user_flag=new_user_flag\n                self.buyer_reput_trans=buyer_reput_trans\n                self.buyer_reput_reliability=buyer_reput_reliability\n            else:raise ValueError('request cannot be confirmed in step 1')\n        else:raise ValueError('Please select a buyer')\n\n    def step2(self,seller_public_key_hash,seller_public_key_hex,encrypted_account,mp_request_signature):\n        if seller_public_key_hash is not None and 'None' not in seller_public_key_hash:\n            if self.step==1:\n                self.seller_public_key_hash=seller_public_key_hash\n                self.seller_public_key_hex=seller_public_key_hex\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig_step2=copy.deepcopy(self.requested_nig)\n                self.requested_nig_step2_flag=True\n                self.requested_nig=CONVERT_2_NIG(self.requested_amount,self.timestamp_nig,self.requested_currency)\n                self.encrypted_account=encrypted_account\n                self.mp_request_signature=mp_request_signature\n                self.step=2\n                self.timestamp_step2=datetime.timestamp(datetime.utcnow())\n            else:raise ValueError('request cannot be confirmed in step 2')\n        else:raise ValueError('Please select a seller')\n            \n\n    def step3(self,mp_request_signature):\n        if self.step==2:\n            self.mp_request_signature=mp_request_signature\n            self.step=3\n            self.timestamp_step3=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in step 3')\n\n    def step4(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=4\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 4')\n\n    def step45(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=45\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=-1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 45')\n\n    def check_cancellation(self,mp_request_signature):\n        if self.step<3:\n          self.mp_request_signature=mp_request_signature\n          self.step=99\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in cancellation')\n\n    def check_payment_default(self,mp_request_signature):\n        if self.step==3:\n          self.mp_request_signature=mp_request_signature\n          self.step=66\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n          self.reputation_buyer=-1\n          self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in payment default')\n\n    def validate_step(self):\n        signature_decoded = binascii.unhexlify(self.mp_request_signature.encode(\"utf-8\"))\n        if self.step==2 or self.step==4 or self.step==45 or self.step==66:\n            public_key_bytes = self.seller_public_key_hex.encode(\"utf-8\")\n        elif self.step==3 or self.step==99:\n            public_key_bytes = self.buyer_public_key_hex.encode(\"utf-8\")\n        else:\n            raise ValueError(f'request not in predefined step:{self.step}')\n      \n        public_key_object = RSA.import_key(binascii.unhexlify(public_key_bytes))\n        transaction_bytes = json.dumps(self.get_mp_details(self.step), indent=2).encode('utf-8')\n        transaction_hash = SHA256.new(transaction_bytes)\n        pkcs1_15.new(public_key_object).verify(transaction_hash, signature_decoded)\n\n    def check_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,False)\n\n    def validate_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,True)\n\n    def check_expiration_raw(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,error_flag):\n        expiration_flag=False\n        check_now=datetime.timestamp(datetime.utcnow())\n        if self.step==1 and check_now-self.timestamp_step1>MARKETPLACE_STEP1_EXPIRATION:expiration_flag=True\n        if self.step==2 and check_now-self.timestamp_step2>MARKETPLACE_STEP2_EXPIRATION:\n            self.reputation_buyer=-1\n            expiration_flag=True\n        if self.step==3 and check_now-self.timestamp_step3>MARKETPLACE_STEP3_EXPIRATION:\n            self.reputation_seller=-1\n            expiration_flag=True\n        if expiration_flag is True:\n            self.step=98\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:\n            if error_flag is True:ValueError('smart_contract is not expired')\n        return expiration_flag\n\t\t\n    def get_mp_info_and_expiration(self,step,user_public_key_hash,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        mp_info=self.get_mp_info(step,user_public_key_hash)\n        expiration=self.check_expiration(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION)\n        return mp_info,expiration,self.requested_amount,self.step\n\n    def cancel(self,user_public_key_hash,mp_request_signature):\n        if self.step<3 and self.buyer_public_key_hash==user_public_key_hash:\n            CANCEL_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'Cancellation not possible in step:{self.step} for user:{user_public_key_hash}')\n\n    def payment_default(self,user_public_key_hash,mp_request_signature):\n        if self.step==3 and self.seller_public_key_hash==user_public_key_hash:\n            PAYMENT_DEFAULT_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'payment default not possible in step:{self.step} for user:{user_public_key_hash}')\n\n\r\nmp_request_step2_done=MarketplaceRequest()\nmp_request_step2_done.step1(\"mp_request_step2_done\",\"aec5ba6714e89ee409736056d5b4fc9801a7f0bd\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001\",1000.0,\"c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f\",\"True\",[0, 0][0],[0, 0][1])\nmp_request_step2_done.account=sender\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\nmp_request_step2_done.get_requested_deposit()\n", "smart_contract_result": 0, "smart_contract_transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "smart_contract_previous_transaction": null, "account_credit_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "inputs": [{"transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0, "unlocking_script": "9935872a92c856fcce35dbec907e8168a7a2ebf5aefd167ddd9825f194bb8ebd739544d6fd9f0162f73e00333aff9a29b319dd400372e41a75491510f371da632ec0bff5934b5f965a947b5884e1a434956992002a5ca54d20e50b9d2fdcc7b0164aa705496142fca003e33d6180a1ad9934b1e2831a7cc6753bdcbfe60872e428cf0f8891ac7ef46abdd3d4d807a651371fc6f4188311b52e8d736017f5019037cc8157330a92048fa1b7ba951d38272b120b3e2571899d8720f4008ae506f40445f6dc9386dff07d04e0c22bfe7d6e25e655086581ee933e4eb98d6d624aa03f824d455e59038f5e9f95179796b763eec045a20b5f618cdb162b19d87988e3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", "unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig"}]}, "input": [{"unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig", "transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0}]}}, "marketplace": [], "marketplace_archive": [], "reputation": [], "smart_contract": [], "balance": {"credit": {"ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "timestamp": 1717152316.608396, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "31f2ac8088005412c7b031a6e342b17a65a48d01"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": true, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 999771.2676, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, null, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152316.559166, "", "", "", 0, 0, null, 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 228, "smart_contract_type": "source", "smart_contract_payload": "\n###VERSION:1\n\nclass MarketplaceRequest:\n    def __init__(self):\n        self.account=None\n        self.step=0\n        self.new_user_flag=False\n        self.timestamp=datetime.timestamp(datetime.utcnow())\n        self.timestamp_step1=None\n        self.timestamp_step2=None\n        self.timestamp_step3=None\n        self.timestamp_step4=None\n        self.requested_amount=0\n        self.requested_currency='EUR'\n        self.requested_deposit=0\n        self.requested_nig=0\n        self.requested_nig_step2=None\n        self.requested_nig_step2_flag=False\n        self.timestamp_nig=None\n        self.buyer_public_key_hex=None\n        self.buyer_public_key_hash=None\n        self.buyer_public_key_hash=None\n        self.buyer_reput_trans=0\n        self.buyer_reput_reliability=0\n        self.seller_public_key_hex=\"\"\n        self.seller_public_key_hash=\"\"\n        self.encrypted_account=\"\"\n        self.mp_request_signature=None\n        self.mp_request_id=random.randint(10000000, 99999999)\n        self.previous_mp_request_name=None\n        self.mp_request_name=None\n        self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n        self.smart_contract_ref=None\n        self.reputation_buyer=0\n        self.reputation_seller=0\n\n    def get_mp_details(self,step):\n        mp_details = [self.timestamp,self.buyer_public_key_hash,self.buyer_public_key_hex,self.requested_amount,self.mp_request_id]\n        if self.requested_nig_step2_flag is True:requested_nig=self.requested_nig_step2\n        else:requested_nig=self.requested_nig\n        if self.step>=1:\n            self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n            mp_details.extend([requested_nig,self.seller_safety_coef])\n        if self.step>=2:mp_details.extend([self.seller_public_key_hex,self.seller_public_key_hash,self.requested_deposit])\n        if self.step==99:mp_details.append(\"cancellation\")\n        if self.step==66:mp_details.append(\"payment default\")\n        return mp_details\n\n    def get_requested_deposit(self):\n        return self.requested_deposit\n\n    def get_new_user_flag(self):\n        return self.new_user_flag\n\n    def get_reputation(self):\n        if self.reputation_buyer!=0 or self.reputation_seller!=0:return {self.buyer_public_key_hash:self.reputation_buyer,self.seller_public_key_hash:self.reputation_seller}\n        else:return None\n\n    def get_mp_info(self,step,user_public_key_hash):\n        try:step=int(step)\n        except:step=99\n        mp_details=None\n        flag=False\n        readonly_flag=False\n        if self.step!=4 and self.step!=45 and self.step!=66 and self.step!=98 and self.step!=99:\n            if step==1:\n                flag=True\n                if self.buyer_public_key_hash==user_public_key_hash:readonly_flag=True\n            if step==2:\n                if self.buyer_public_key_hash==user_public_key_hash:flag=True\n                if self.step==1:readonly_flag=True\n                if self.step==3:readonly_flag=True\n            if step==3:\n                if self.seller_public_key_hash==user_public_key_hash:flag=True\n                if self.step==2:readonly_flag=True\n            if flag is True:\n                mp_details = {\"timestamp_nig\": self.timestamp,\"requester_public_key_hash\": self.buyer_public_key_hash,\"requester_public_key_hex\": self.buyer_public_key_hex,\"seller_public_key_hash\": self.seller_public_key_hash,\"requested_amount\": self.requested_amount,\"requested_currency\":self.requested_currency,\"requested_nig\": self.requested_nig,\"payment_ref\": self.mp_request_name}\n                mp_details['seller_public_key_hex']=self.seller_public_key_hex\n                mp_details['encrypted_account']=self.encrypted_account\n                mp_details['smart_contract_ref']=self.smart_contract_ref\n                mp_details['readonly_flag']=readonly_flag\n                mp_details['buyer_reput_trans']=self.buyer_reput_trans\n                mp_details['buyer_reput_reliability']=self.buyer_reput_reliability\n                mp_details['step']=self.step\n        return mp_details\n\n    def get_mp_info_archive(self,step):\n        mp_details=None\n        if step==self.step:\n            mp_details = {\"timestamp_nig\": self.timestamp_step4, \"readonly_flag\":False}\n        return mp_details\n\n    def step1(self,mp_request_name,buyer_public_key_hash,buyer_public_key_hex,requested_amount,smart_contract_ref,new_user_flag,buyer_reput_trans,buyer_reput_reliability):\n        if buyer_public_key_hash is not None and 'None' not in buyer_public_key_hash:\n            if self.step==0:\n                self.mp_request_name=mp_request_name\n                self.buyer_public_key_hash=buyer_public_key_hash\n                self.buyer_public_key_hex=buyer_public_key_hex\n                self.requested_amount=requested_amount\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)\n                self.step=1\n                self.smart_contract_ref=smart_contract_ref\n                self.timestamp_step1=datetime.timestamp(datetime.utcnow())\n                if new_user_flag==\"True\" or new_user_flag==\"True\":new_user_flag=True\n                if new_user_flag==\"False\" or new_user_flag==\"False\":\n                    new_user_flag=False\n                    self.requested_deposit=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)*GET_BUYER_SAFETY_COEF()\n                self.new_user_flag=new_user_flag\n                self.buyer_reput_trans=buyer_reput_trans\n                self.buyer_reput_reliability=buyer_reput_reliability\n            else:raise ValueError('request cannot be confirmed in step 1')\n        else:raise ValueError('Please select a buyer')\n\n    def step2(self,seller_public_key_hash,seller_public_key_hex,encrypted_account,mp_request_signature):\n        if seller_public_key_hash is not None and 'None' not in seller_public_key_hash:\n            if self.step==1:\n                self.seller_public_key_hash=seller_public_key_hash\n                self.seller_public_key_hex=seller_public_key_hex\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig_step2=copy.deepcopy(self.requested_nig)\n                self.requested_nig_step2_flag=True\n                self.requested_nig=CONVERT_2_NIG(self.requested_amount,self.timestamp_nig,self.requested_currency)\n                self.encrypted_account=encrypted_account\n                self.mp_request_signature=mp_request_signature\n                self.step=2\n                self.timestamp_step2=datetime.timestamp(datetime.utcnow())\n            else:raise ValueError('request cannot be confirmed in step 2')\n        else:raise ValueError('Please select a seller')\n            \n\n    def step3(self,mp_request_signature):\n        if self.step==2:\n            self.mp_request_signature=mp_request_signature\n            self.step=3\n            self.timestamp_step3=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in step 3')\n\n    def step4(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=4\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 4')\n\n    def step45(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=45\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=-1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 45')\n\n    def check_cancellation(self,mp_request_signature):\n        if self.step<3:\n          self.mp_request_signature=mp_request_signature\n          self.step=99\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in cancellation')\n\n    def check_payment_default(self,mp_request_signature):\n        if self.step==3:\n          self.mp_request_signature=mp_request_signature\n          self.step=66\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n          self.reputation_buyer=-1\n          self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in payment default')\n\n    def validate_step(self):\n        signature_decoded = binascii.unhexlify(self.mp_request_signature.encode(\"utf-8\"))\n        if self.step==2 or self.step==4 or self.step==45 or self.step==66:\n            public_key_bytes = self.seller_public_key_hex.encode(\"utf-8\")\n        elif self.step==3 or self.step==99:\n            public_key_bytes = self.buyer_public_key_hex.encode(\"utf-8\")\n        else:\n            raise ValueError(f'request not in predefined step:{self.step}')\n      \n        public_key_object = RSA.import_key(binascii.unhexlify(public_key_bytes))\n        transaction_bytes = json.dumps(self.get_mp_details(self.step), indent=2).encode('utf-8')\n        transaction_hash = SHA256.new(transaction_bytes)\n        pkcs1_15.new(public_key_object).verify(transaction_hash, signature_decoded)\n\n    def check_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,False)\n\n    def validate_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,True)\n\n    def check_expiration_raw(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,error_flag):\n        expiration_flag=False\n        check_now=datetime.timestamp(datetime.utcnow())\n        if self.step==1 and check_now-self.timestamp_step1>MARKETPLACE_STEP1_EXPIRATION:expiration_flag=True\n        if self.step==2 and check_now-self.timestamp_step2>MARKETPLACE_STEP2_EXPIRATION:\n            self.reputation_buyer=-1\n            expiration_flag=True\n        if self.step==3 and check_now-self.timestamp_step3>MARKETPLACE_STEP3_EXPIRATION:\n            self.reputation_seller=-1\n            expiration_flag=True\n        if expiration_flag is True:\n            self.step=98\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:\n            if error_flag is True:ValueError('smart_contract is not expired')\n        return expiration_flag\n\t\t\n    def get_mp_info_and_expiration(self,step,user_public_key_hash,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        mp_info=self.get_mp_info(step,user_public_key_hash)\n        expiration=self.check_expiration(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION)\n        return mp_info,expiration,self.requested_amount,self.step\n\n    def cancel(self,user_public_key_hash,mp_request_signature):\n        if self.step<3 and self.buyer_public_key_hash==user_public_key_hash:\n            CANCEL_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'Cancellation not possible in step:{self.step} for user:{user_public_key_hash}')\n\n    def payment_default(self,user_public_key_hash,mp_request_signature):\n        if self.step==3 and self.seller_public_key_hash==user_public_key_hash:\n            PAYMENT_DEFAULT_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'payment default not possible in step:{self.step} for user:{user_public_key_hash}')\n\n\r\nmp_request_step2_done=MarketplaceRequest()\nmp_request_step2_done.step1(\"mp_request_step2_done\",\"aec5ba6714e89ee409736056d5b4fc9801a7f0bd\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001\",1000.0,\"c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f\",\"True\",[0, 0][0],[0, 0][1])\nmp_request_step2_done.account=sender\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\nmp_request_step2_done.get_requested_deposit()\n", "smart_contract_result": 0, "smart_contract_transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "smart_contract_previous_transaction": null, "account_credit_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "inputs": [{"transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0, "unlocking_script": "9935872a92c856fcce35dbec907e8168a7a2ebf5aefd167ddd9825f194bb8ebd739544d6fd9f0162f73e00333aff9a29b319dd400372e41a75491510f371da632ec0bff5934b5f965a947b5884e1a434956992002a5ca54d20e50b9d2fdcc7b0164aa705496142fca003e33d6180a1ad9934b1e2831a7cc6753bdcbfe60872e428cf0f8891ac7ef46abdd3d4d807a651371fc6f4188311b52e8d736017f5019037cc8157330a92048fa1b7ba951d38272b120b3e2571899d8720f4008ae506f40445f6dc9386dff07d04e0c22bfe7d6e25e655086581ee933e4eb98d6d624aa03f824d455e59038f5e9f95179796b763eec045a20b5f618cdb162b19d87988e3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", "unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig"}]}}, "debit": {}}}, "e89233379e72b7ca518ab76aeafc4693a2f3b5401c14ad9fa20c17320b1177d3": {"total": 1343.3062, "marketplace_profit_details": {}, "utxos": ["5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0"], "utxos_data": {"5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0": {"output": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 84d7eee902bf978d379aa988da0068d71e0037a7 OP_DEL_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "84d7eee902bf978d379aa988da0068d71e0037a7"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 983602.1431, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 2, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 16168, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step2(\"84d7eee902bf978d379aa988da0068d71e0037a7\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001\",\"42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5\",\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "smart_contract_previous_transaction": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "input": [{"unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig", "transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0}, {"unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0}]}}, "marketplace": [], "marketplace_archive": [], "reputation": [], "smart_contract": [], "balance": {"credit": {"ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "timestamp": 1717152316.608396, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "31f2ac8088005412c7b031a6e342b17a65a48d01"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": true, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 999771.2676, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, null, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152316.559166, "", "", "", 0, 0, null, 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 228, "smart_contract_type": "source", "smart_contract_payload": "\n###VERSION:1\n\nclass MarketplaceRequest:\n    def __init__(self):\n        self.account=None\n        self.step=0\n        self.new_user_flag=False\n        self.timestamp=datetime.timestamp(datetime.utcnow())\n        self.timestamp_step1=None\n        self.timestamp_step2=None\n        self.timestamp_step3=None\n        self.timestamp_step4=None\n        self.requested_amount=0\n        self.requested_currency='EUR'\n        self.requested_deposit=0\n        self.requested_nig=0\n        self.requested_nig_step2=None\n        self.requested_nig_step2_flag=False\n        self.timestamp_nig=None\n        self.buyer_public_key_hex=None\n        self.buyer_public_key_hash=None\n        self.buyer_public_key_hash=None\n        self.buyer_reput_trans=0\n        self.buyer_reput_reliability=0\n        self.seller_public_key_hex=\"\"\n        self.seller_public_key_hash=\"\"\n        self.encrypted_account=\"\"\n        self.mp_request_signature=None\n        self.mp_request_id=random.randint(10000000, 99999999)\n        self.previous_mp_request_name=None\n        self.mp_request_name=None\n        self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n        self.smart_contract_ref=None\n        self.reputation_buyer=0\n        self.reputation_seller=0\n\n    def get_mp_details(self,step):\n        mp_details = [self.timestamp,self.buyer_public_key_hash,self.buyer_public_key_hex,self.requested_amount,self.mp_request_id]\n        if self.requested_nig_step2_flag is True:requested_nig=self.requested_nig_step2\n        else:requested_nig=self.requested_nig\n        if self.step>=1:\n            self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n            mp_details.extend([requested_nig,self.seller_safety_coef])\n        if self.step>=2:mp_details.extend([self.seller_public_key_hex,self.seller_public_key_hash,self.requested_deposit])\n        if self.step==99:mp_details.append(\"cancellation\")\n        if self.step==66:mp_details.append(\"payment default\")\n        return mp_details\n\n    def get_requested_deposit(self):\n        return self.requested_deposit\n\n    def get_new_user_flag(self):\n        return self.new_user_flag\n\n    def get_reputation(self):\n        if self.reputation_buyer!=0 or self.reputation_seller!=0:return {self.buyer_public_key_hash:self.reputation_buyer,self.seller_public_key_hash:self.reputation_seller}\n        else:return None\n\n    def get_mp_info(self,step,user_public_key_hash):\n        try:step=int(step)\n        except:step=99\n        mp_details=None\n        flag=False\n        readonly_flag=False\n        if self.step!=4 and self.step!=45 and self.step!=66 and self.step!=98 and self.step!=99:\n            if step==1:\n                flag=True\n                if self.buyer_public_key_hash==user_public_key_hash:readonly_flag=True\n            if step==2:\n                if self.buyer_public_key_hash==user_public_key_hash:flag=True\n                if self.step==1:readonly_flag=True\n                if self.step==3:readonly_flag=True\n            if step==3:\n                if self.seller_public_key_hash==user_public_key_hash:flag=True\n                if self.step==2:readonly_flag=True\n            if flag is True:\n                mp_details = {\"timestamp_nig\": self.timestamp,\"requester_public_key_hash\": self.buyer_public_key_hash,\"requester_public_key_hex\": self.buyer_public_key_hex,\"seller_public_key_hash\": self.seller_public_key_hash,\"requested_amount\": self.requested_amount,\"requested_currency\":self.requested_currency,\"requested_nig\": self.requested_nig,\"payment_ref\": self.mp_request_name}\n                mp_details['seller_public_key_hex']=self.seller_public_key_hex\n                mp_details['encrypted_account']=self.encrypted_account\n                mp_details['smart_contract_ref']=self.smart_contract_ref\n                mp_details['readonly_flag']=readonly_flag\n                mp_details['buyer_reput_trans']=self.buyer_reput_trans\n                mp_details['buyer_reput_reliability']=self.buyer_reput_reliability\n                mp_details['step']=self.step\n        return mp_details\n\n    def get_mp_info_archive(self,step):\n        mp_details=None\n        if step==self.step:\n            mp_details = {\"timestamp_nig\": self.timestamp_step4, \"readonly_flag\":False}\n        return mp_details\n\n    def step1(self,mp_request_name,buyer_public_key_hash,buyer_public_key_hex,requested_amount,smart_contract_ref,new_user_flag,buyer_reput_trans,buyer_reput_reliability):\n        if buyer_public_key_hash is not None and 'None' not in buyer_public_key_hash:\n            if self.step==0:\n                self.mp_request_name=mp_request_name\n                self.buyer_public_key_hash=buyer_public_key_hash\n                self.buyer_public_key_hex=buyer_public_key_hex\n                self.requested_amount=requested_amount\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)\n                self.step=1\n                self.smart_contract_ref=smart_contract_ref\n                self.timestamp_step1=datetime.timestamp(datetime.utcnow())\n                if new_user_flag==\"True\" or new_user_flag==\"True\":new_user_flag=True\n                if new_user_flag==\"False\" or new_user_flag==\"False\":\n                    new_user_flag=False\n                    self.requested_deposit=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)*GET_BUYER_SAFETY_COEF()\n                self.new_user_flag=new_user_flag\n                self.buyer_reput_trans=buyer_reput_trans\n                self.buyer_reput_reliability=buyer_reput_reliability\n            else:raise ValueError('request cannot be confirmed in step 1')\n        else:raise ValueError('Please select a buyer')\n\n    def step2(self,seller_public_key_hash,seller_public_key_hex,encrypted_account,mp_request_signature):\n        if seller_public_key_hash is not None and 'None' not in seller_public_key_hash:\n            if self.step==1:\n                self.seller_public_key_hash=seller_public_key_hash\n                self.seller_public_key_hex=seller_public_key_hex\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig_step2=copy.deepcopy(self.requested_nig)\n                self.requested_nig_step2_flag=True\n                self.requested_nig=CONVERT_2_NIG(self.requested_amount,self.timestamp_nig,self.requested_currency)\n                self.encrypted_account=encrypted_account\n                self.mp_request_signature=mp_request_signature\n                self.step=2\n                self.timestamp_step2=datetime.timestamp(datetime.utcnow())\n            else:raise ValueError('request cannot be confirmed in step 2')\n        else:raise ValueError('Please select a seller')\n            \n\n    def step3(self,mp_request_signature):\n        if self.step==2:\n            self.mp_request_signature=mp_request_signature\n            self.step=3\n            self.timestamp_step3=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in step 3')\n\n    def step4(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=4\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 4')\n\n    def step45(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=45\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=-1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 45')\n\n    def check_cancellation(self,mp_request_signature):\n        if self.step<3:\n          self.mp_request_signature=mp_request_signature\n          self.step=99\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in cancellation')\n\n    def check_payment_default(self,mp_request_signature):\n        if self.step==3:\n          self.mp_request_signature=mp_request_signature\n          self.step=66\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n          self.reputation_buyer=-1\n          self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in payment default')\n\n    def validate_step(self):\n        signature_decoded = binascii.unhexlify(self.mp_request_signature.encode(\"utf-8\"))\n        if self.step==2 or self.step==4 or self.step==45 or self.step==66:\n            public_key_bytes = self.seller_public_key_hex.encode(\"utf-8\")\n        elif self.step==3 or self.step==99:\n            public_key_bytes = self.buyer_public_key_hex.encode(\"utf-8\")\n        else:\n            raise ValueError(f'request not in predefined step:{self.step}')\n      \n        public_key_object = RSA.import_key(binascii.unhexlify(public_key_bytes))\n        transaction_bytes = json.dumps(self.get_mp_details(self.step), indent=2).encode('utf-8')\n        transaction_hash = SHA256.new(transaction_bytes)\n        pkcs1_15.new(public_key_object).verify(transaction_hash, signature_decoded)\n\n    def check_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,False)\n\n    def validate_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,True)\n\n    def check_expiration_raw(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,error_flag):\n        expiration_flag=False\n        check_now=datetime.timestamp(datetime.utcnow())\n        if self.step==1 and check_now-self.timestamp_step1>MARKETPLACE_STEP1_EXPIRATION:expiration_flag=True\n        if self.step==2 and check_now-self.timestamp_step2>MARKETPLACE_STEP2_EXPIRATION:\n            self.reputation_buyer=-1\n            expiration_flag=True\n        if self.step==3 and check_now-self.timestamp_step3>MARKETPLACE_STEP3_EXPIRATION:\n            self.reputation_seller=-1\n            expiration_flag=True\n        if expiration_flag is True:\n            self.step=98\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:\n            if error_flag is True:ValueError('smart_contract is not expired')\n        return expiration_flag\n\t\t\n    def get_mp_info_and_expiration(self,step,user_public_key_hash,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        mp_info=self.get_mp_info(step,user_public_key_hash)\n        expiration=self.check_expiration(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION)\n        return mp_info,expiration,self.requested_amount,self.step\n\n    def cancel(self,user_public_key_hash,mp_request_signature):\n        if self.step<3 and self.buyer_public_key_hash==user_public_key_hash:\n            CANCEL_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'Cancellation not possible in step:{self.step} for user:{user_public_key_hash}')\n\n    def payment_default(self,user_public_key_hash,mp_request_signature):\n        if self.step==3 and self.seller_public_key_hash==user_public_key_hash:\n            PAYMENT_DEFAULT_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'payment default not possible in step:{self.step} for user:{user_public_key_hash}')\n\n\r\nmp_request_step2_done=MarketplaceRequest()\nmp_request_step2_done.step1(\"mp_request_step2_done\",\"aec5ba6714e89ee409736056d5b4fc9801a7f0bd\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001\",1000.0,\"c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f\",\"True\",[0, 0][0],[0, 0][1])\nmp_request_step2_done.account=sender\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\nmp_request_step2_done.get_requested_deposit()\n", "smart_contract_result": 0, "smart_contract_transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "smart_contract_previous_transaction": null, "account_credit_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "inputs": [{"transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0, "unlocking_script": "9935872a92c856fcce35dbec907e8168a7a2ebf5aefd167ddd9825f194bb8ebd739544d6fd9f0162f73e00333aff9a29b319dd400372e41a75491510f371da632ec0bff5934b5f965a947b5884e1a434956992002a5ca54d20e50b9d2fdcc7b0164aa705496142fca003e33d6180a1ad9934b1e2831a7cc6753bdcbfe60872e428cf0f8891ac7ef46abdd3d4d807a651371fc6f4188311b52e8d736017f5019037cc8157330a92048fa1b7ba951d38272b120b3e2571899d8720f4008ae506f40445f6dc9386dff07d04e0c22bfe7d6e25e655086581ee933e4eb98d6d624aa03f824d455e59038f5e9f95179796b763eec045a20b5f618cdb162b19d87988e3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", "unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig"}]}, "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 84d7eee902bf978d379aa988da0068d71e0037a7 OP_DEL_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "84d7eee902bf978d379aa988da0068d71e0037a7"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 983602.1431, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 2, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 16168, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step2(\"84d7eee902bf978d379aa988da0068d71e0037a7\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001\",\"42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5\",\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "smart_contract_previous_transaction": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}, "debit": {"5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_1": {"amount": 98656.6938, "locking_script": "OP_DUP OP_HASH160 84d7eee902bf978d379aa988da0068d71e0037a7 OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 1, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["84d7eee902bf978d379aa988da0068d71e0037a7"], "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}}}, "c3b82682d3eeac334fd1595794f702d2313d69887baa1e8866dbd0c1f302305f": {"total": 1343.3062, "marketplace_profit_details": {}, "utxos": ["a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0"], "utxos_data": {"a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0": {"output": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "timestamp": 1717152539.91579, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "smart_contract_sender": "84d7eee902bf978d379aa988da0068d71e0037a7", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 964744.2435, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 3, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, 1717152540.493996, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 18857, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step3(\"4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0", "smart_contract_previous_transaction": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "output_index": 0, "unlocking_script": "75253f289d1144534b755be3a5805ee0f5e5713b15fd7f7f9c254c42563ea5a398f4e1d73cee49bdaf67384a39093b4da3a5b854055cf9add6544f5d4439f563a92f1f525668f4923f0e065b242b927ff588fb412b79427da595cb358990705ac76ecc94864908d7ea7245efdf146fa8a8b0897fecce0ea1c0197bbfd3318e4998e59ecd18e749a9edb259cc849ce9f98a92ee3c843044600ddc151be3d803c38383ad826ad35d51992743763dcacf6a4acc43d51c0abc87ea3e1175542d47503d687eca0182bf56a9f7b7cc5bb65ad7e94953e8f3728c0cf585308206dc63bc9a0605c40d0f310a0c8d400bfd0758a318d97df0048da37e08821651427454b3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "input": [{"unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "output_index": 0}]}}, "marketplace": [], "marketplace_archive": [], "reputation": [], "smart_contract": [], "balance": {"credit": {"ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "timestamp": 1717152316.608396, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "31f2ac8088005412c7b031a6e342b17a65a48d01"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": true, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 999771.2676, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, null, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152316.559166, "", "", "", 0, 0, null, 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 228, "smart_contract_type": "source", "smart_contract_payload": "\n###VERSION:1\n\nclass MarketplaceRequest:\n    def __init__(self):\n        self.account=None\n        self.step=0\n        self.new_user_flag=False\n        self.timestamp=datetime.timestamp(datetime.utcnow())\n        self.timestamp_step1=None\n        self.timestamp_step2=None\n        self.timestamp_step3=None\n        self.timestamp_step4=None\n        self.requested_amount=0\n        self.requested_currency='EUR'\n        self.requested_deposit=0\n        self.requested_nig=0\n        self.requested_nig_step2=None\n        self.requested_nig_step2_flag=False\n        self.timestamp_nig=None\n        self.buyer_public_key_hex=None\n        self.buyer_public_key_hash=None\n        self.buyer_public_key_hash=None\n        self.buyer_reput_trans=0\n        self.buyer_reput_reliability=0\n        self.seller_public_key_hex=\"\"\n        self.seller_public_key_hash=\"\"\n        self.encrypted_account=\"\"\n        self.mp_request_signature=None\n        self.mp_request_id=random.randint(10000000, 99999999)\n        self.previous_mp_request_name=None\n        self.mp_request_name=None\n        self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n        self.smart_contract_ref=None\n        self.reputation_buyer=0\n        self.reputation_seller=0\n\n    def get_mp_details(self,step):\n        mp_details = [self.timestamp,self.buyer_public_key_hash,self.buyer_public_key_hex,self.requested_amount,self.mp_request_id]\n        if self.requested_nig_step2_flag is True:requested_nig=self.requested_nig_step2\n        else:requested_nig=self.requested_nig\n        if self.step>=1:\n            self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n            mp_details.extend([requested_nig,self.seller_safety_coef])\n        if self.step>=2:mp_details.extend([self.seller_public_key_hex,self.seller_public_key_hash,self.requested_deposit])\n        if self.step==99:mp_details.append(\"cancellation\")\n        if self.step==66:mp_details.append(\"payment default\")\n        return mp_details\n\n    def get_requested_deposit(self):\n        return self.requested_deposit\n\n    def get_new_user_flag(self):\n        return self.new_user_flag\n\n    def get_reputation(self):\n        if self.reputation_buyer!=0 or self.reputation_seller!=0:return {self.buyer_public_key_hash:self.reputation_buyer,self.seller_public_key_hash:self.reputation_seller}\n        else:return None\n\n    def get_mp_info(self,step,user_public_key_hash):\n        try:step=int(step)\n        except:step=99\n        mp_details=None\n        flag=False\n        readonly_flag=False\n        if self.step!=4 and self.step!=45 and self.step!=66 and self.step!=98 and self.step!=99:\n            if step==1:\n                flag=True\n                if self.buyer_public_key_hash==user_public_key_hash:readonly_flag=True\n            if step==2:\n                if self.buyer_public_key_hash==user_public_key_hash:flag=True\n                if self.step==1:readonly_flag=True\n                if self.step==3:readonly_flag=True\n            if step==3:\n                if self.seller_public_key_hash==user_public_key_hash:flag=True\n                if self.step==2:readonly_flag=True\n            if flag is True:\n                mp_details = {\"timestamp_nig\": self.timestamp,\"requester_public_key_hash\": self.buyer_public_key_hash,\"requester_public_key_hex\": self.buyer_public_key_hex,\"seller_public_key_hash\": self.seller_public_key_hash,\"requested_amount\": self.requested_amount,\"requested_currency\":self.requested_currency,\"requested_nig\": self.requested_nig,\"payment_ref\": self.mp_request_name}\n                mp_details['seller_public_key_hex']=self.seller_public_key_hex\n                mp_details['encrypted_account']=self.encrypted_account\n                mp_details['smart_contract_ref']=self.smart_contract_ref\n                mp_details['readonly_flag']=readonly_flag\n                mp_details['buyer_reput_trans']=self.buyer_reput_trans\n                mp_details['buyer_reput_reliability']=self.buyer_reput_reliability\n                mp_details['step']=self.step\n        return mp_details\n\n    def get_mp_info_archive(self,step):\n        mp_details=None\n        if step==self.step:\n            mp_details = {\"timestamp_nig\": self.timestamp_step4, \"readonly_flag\":False}\n        return mp_details\n\n    def step1(self,mp_request_name,buyer_public_key_hash,buyer_public_key_hex,requested_amount,smart_contract_ref,new_user_flag,buyer_reput_trans,buyer_reput_reliability):\n        if buyer_public_key_hash is not None and 'None' not in buyer_public_key_hash:\n            if self.step==0:\n                self.mp_request_name=mp_request_name\n                self.buyer_public_key_hash=buyer_public_key_hash\n                self.buyer_public_key_hex=buyer_public_key_hex\n                self.requested_amount=requested_amount\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)\n                self.step=1\n                self.smart_contract_ref=smart_contract_ref\n                self.timestamp_step1=datetime.timestamp(datetime.utcnow())\n                if new_user_flag==\"True\" or new_user_flag==\"True\":new_user_flag=True\n                if new_user_flag==\"False\" or new_user_flag==\"False\":\n                    new_user_flag=False\n                    self.requested_deposit=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)*GET_BUYER_SAFETY_COEF()\n                self.new_user_flag=new_user_flag\n                self.buyer_reput_trans=buyer_reput_trans\n                self.buyer_reput_reliability=buyer_reput_reliability\n            else:raise ValueError('request cannot be confirmed in step 1')\n        else:raise ValueError('Please select a buyer')\n\n    def step2(self,seller_public_key_hash,seller_public_key_hex,encrypted_account,mp_request_signature):\n        if seller_public_key_hash is not None and 'None' not in seller_public_key_hash:\n            if self.step==1:\n                self.seller_public_key_hash=seller_public_key_hash\n                self.seller_public_key_hex=seller_public_key_hex\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig_step2=copy.deepcopy(self.requested_nig)\n                self.requested_nig_step2_flag=True\n                self.requested_nig=CONVERT_2_NIG(self.requested_amount,self.timestamp_nig,self.requested_currency)\n                self.encrypted_account=encrypted_account\n                self.mp_request_signature=mp_request_signature\n                self.step=2\n                self.timestamp_step2=datetime.timestamp(datetime.utcnow())\n            else:raise ValueError('request cannot be confirmed in step 2')\n        else:raise ValueError('Please select a seller')\n            \n\n    def step3(self,mp_request_signature):\n        if self.step==2:\n            self.mp_request_signature=mp_request_signature\n            self.step=3\n            self.timestamp_step3=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in step 3')\n\n    def step4(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=4\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 4')\n\n    def step45(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=45\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=-1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 45')\n\n    def check_cancellation(self,mp_request_signature):\n        if self.step<3:\n          self.mp_request_signature=mp_request_signature\n          self.step=99\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in cancellation')\n\n    def check_payment_default(self,mp_request_signature):\n        if self.step==3:\n          self.mp_request_signature=mp_request_signature\n          self.step=66\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n          self.reputation_buyer=-1\n          self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in payment default')\n\n    def validate_step(self):\n        signature_decoded = binascii.unhexlify(self.mp_request_signature.encode(\"utf-8\"))\n        if self.step==2 or self.step==4 or self.step==45 or self.step==66:\n            public_key_bytes = self.seller_public_key_hex.encode(\"utf-8\")\n        elif self.step==3 or self.step==99:\n            public_key_bytes = self.buyer_public_key_hex.encode(\"utf-8\")\n        else:\n            raise ValueError(f'request not in predefined step:{self.step}')\n      \n        public_key_object = RSA.import_key(binascii.unhexlify(public_key_bytes))\n        transaction_bytes = json.dumps(self.get_mp_details(self.step), indent=2).encode('utf-8')\n        transaction_hash = SHA256.new(transaction_bytes)\n        pkcs1_15.new(public_key_object).verify(transaction_hash, signature_decoded)\n\n    def check_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,False)\n\n    def validate_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,True)\n\n    def check_expiration_raw(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,error_flag):\n        expiration_flag=False\n        check_now=datetime.timestamp(datetime.utcnow())\n        if self.step==1 and check_now-self.timestamp_step1>MARKETPLACE_STEP1_EXPIRATION:expiration_flag=True\n        if self.step==2 and check_now-self.timestamp_step2>MARKETPLACE_STEP2_EXPIRATION:\n            self.reputation_buyer=-1\n            expiration_flag=True\n        if self.step==3 and check_now-self.timestamp_step3>MARKETPLACE_STEP3_EXPIRATION:\n            self.reputation_seller=-1\n            expiration_flag=True\n        if expiration_flag is True:\n            self.step=98\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:\n            if error_flag is True:ValueError('smart_contract is not expired')\n        return expiration_flag\n\t\t\n    def get_mp_info_and_expiration(self,step,user_public_key_hash,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        mp_info=self.get_mp_info(step,user_public_key_hash)\n        expiration=self.check_expiration(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION)\n        return mp_info,expiration,self.requested_amount,self.step\n\n    def cancel(self,user_public_key_hash,mp_request_signature):\n        if self.step<3 and self.buyer_public_key_hash==user_public_key_hash:\n            CANCEL_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'Cancellation not possible in step:{self.step} for user:{user_public_key_hash}')\n\n    def payment_default(self,user_public_key_hash,mp_request_signature):\n        if self.step==3 and self.seller_public_key_hash==user_public_key_hash:\n            PAYMENT_DEFAULT_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'payment default not possible in step:{self.step} for user:{user_public_key_hash}')\n\n\r\nmp_request_step2_done=MarketplaceRequest()\nmp_request_step2_done.step1(\"mp_request_step2_done\",\"aec5ba6714e89ee409736056d5b4fc9801a7f0bd\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001\",1000.0,\"c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f\",\"True\",[0, 0][0],[0, 0][1])\nmp_request_step2_done.account=sender\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\nmp_request_step2_done.get_requested_deposit()\n", "smart_contract_result": 0, "smart_contract_transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "smart_contract_previous_transaction": null, "account_credit_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "inputs": [{"transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0, "unlocking_script": "9935872a92c856fcce35dbec907e8168a7a2ebf5aefd167ddd9825f194bb8ebd739544d6fd9f0162f73e00333aff9a29b319dd400372e41a75491510f371da632ec0bff5934b5f965a947b5884e1a434956992002a5ca54d20e50b9d2fdcc7b0164aa705496142fca003e33d6180a1ad9934b1e2831a7cc6753bdcbfe60872e428cf0f8891ac7ef46abdd3d4d807a651371fc6f4188311b52e8d736017f5019037cc8157330a92048fa1b7ba951d38272b120b3e2571899d8720f4008ae506f40445f6dc9386dff07d04e0c22bfe7d6e25e655086581ee933e4eb98d6d624aa03f824d455e59038f5e9f95179796b763eec045a20b5f618cdb162b19d87988e3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", "unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig"}]}, "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 84d7eee902bf978d379aa988da0068d71e0037a7 OP_DEL_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "84d7eee902bf978d379aa988da0068d71e0037a7"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 983602.1431, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 2, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 16168, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step2(\"84d7eee902bf978d379aa988da0068d71e0037a7\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001\",\"42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5\",\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "smart_contract_previous_transaction": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "timestamp": 1717152539.91579, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "smart_contract_sender": "84d7eee902bf978d379aa988da0068d71e0037a7", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 964744.2435, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 3, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, 1717152540.493996, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 18857, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step3(\"4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0", "smart_contract_previous_transaction": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "output_index": 0, "unlocking_script": "75253f289d1144534b755be3a5805ee0f5e5713b15fd7f7f9c254c42563ea5a398f4e1d73cee49bdaf67384a39093b4da3a5b854055cf9add6544f5d4439f563a92f1f525668f4923f0e065b242b927ff588fb412b79427da595cb358990705ac76ecc94864908d7ea7245efdf146fa8a8b0897fecce0ea1c0197bbfd3318e4998e59ecd18e749a9edb259cc849ce9f98a92ee3c843044600ddc151be3d803c38383ad826ad35d51992743763dcacf6a4acc43d51c0abc87ea3e1175542d47503d687eca0182bf56a9f7b7cc5bb65ad7e94953e8f3728c0cf585308206dc63bc9a0605c40d0f310a0c8d400bfd0758a318d97df0048da37e08821651427454b3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}, "debit": {"5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_1": {"amount": 98656.6938, "locking_script": "OP_DUP OP_HASH160 84d7eee902bf978d379aa988da0068d71e0037a7 OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 1, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["84d7eee902bf978d379aa988da0068d71e0037a7"], "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}}}, "abfb3995f7167a77b4dee710e76c110e304a3a35b7ee9cb8e2f6d8001dbd4bad": {"total": 0.0, "marketplace_profit_details": {}, "utxos": ["1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_0"], "utxos_data": {"1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_0": {"output": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a", "timestamp": 1717152647.586308, "output_index": 0, "fee_interface": 0.0, "fee_miner": 0.0, "fee_node": 0.0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 945872.8388, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 4, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, 1717152540.493996, 1717152648.186378, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 1, 1]]], "smart_contract_memory_size": 18870, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step4(\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_0", "smart_contract_previous_transaction": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0", "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "output_index": 0, "unlocking_script": "c495953a9c8cef30886024d207c7a9080521a32e9d5ebb5354e0d95638a54d00211158dcc27d41c25d5abbb65d0e13d96a71cafb189d0457d9ead7510974ba2dc7e958c43b7289667a580b6440f7b5fe637643c1a72b878f03c30abc0baa498dd5aba651e553cd297a62715acc6282a2072031a092c1800f3506d7ab6447067fc814acac0e79b9abb16dcc2b01f8df47d8b78bdd4afb018ab0237e903a37c0f468c8d6c059e0e16378941374d150a4aab5e4b3a049c9a9e353a9aa04d0e8dc01f725f01a74ce189d73a36c39be4712b1732259167193b16404f7793863f7f75a09c3135d6640e76cc5c3db81ea8837b78bd8283642654e5b1f689b942f29812f 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "input": [{"unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "output_index": 0}]}}, "marketplace": [], "marketplace_archive": [], "reputation": [], "smart_contract": [], "balance": {"credit": {"ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "timestamp": 1717152316.608396, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "31f2ac8088005412c7b031a6e342b17a65a48d01"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": true, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 999771.2676, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, null, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152316.559166, "", "", "", 0, 0, null, 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 228, "smart_contract_type": "source", "smart_contract_payload": "\n###VERSION:1\n\nclass MarketplaceRequest:\n    def __init__(self):\n        self.account=None\n        self.step=0\n        self.new_user_flag=False\n        self.timestamp=datetime.timestamp(datetime.utcnow())\n        self.timestamp_step1=None\n        self.timestamp_step2=None\n        self.timestamp_step3=None\n        self.timestamp_step4=None\n        self.requested_amount=0\n        self.requested_currency='EUR'\n        self.requested_deposit=0\n        self.requested_nig=0\n        self.requested_nig_step2=None\n        self.requested_nig_step2_flag=False\n        self.timestamp_nig=None\n        self.buyer_public_key_hex=None\n        self.buyer_public_key_hash=None\n        self.buyer_public_key_hash=None\n        self.buyer_reput_trans=0\n        self.buyer_reput_reliability=0\n        self.seller_public_key_hex=\"\"\n        self.seller_public_key_hash=\"\"\n        self.encrypted_account=\"\"\n        self.mp_request_signature=None\n        self.mp_request_id=random.randint(10000000, 99999999)\n        self.previous_mp_request_name=None\n        self.mp_request_name=None\n        self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n        self.smart_contract_ref=None\n        self.reputation_buyer=0\n        self.reputation_seller=0\n\n    def get_mp_details(self,step):\n        mp_details = [self.timestamp,self.buyer_public_key_hash,self.buyer_public_key_hex,self.requested_amount,self.mp_request_id]\n        if self.requested_nig_step2_flag is True:requested_nig=self.requested_nig_step2\n        else:requested_nig=self.requested_nig\n        if self.step>=1:\n            self.seller_safety_coef=GET_SELLER_SAFETY_COEF()\n            mp_details.extend([requested_nig,self.seller_safety_coef])\n        if self.step>=2:mp_details.extend([self.seller_public_key_hex,self.seller_public_key_hash,self.requested_deposit])\n        if self.step==99:mp_details.append(\"cancellation\")\n        if self.step==66:mp_details.append(\"payment default\")\n        return mp_details\n\n    def get_requested_deposit(self):\n        return self.requested_deposit\n\n    def get_new_user_flag(self):\n        return self.new_user_flag\n\n    def get_reputation(self):\n        if self.reputation_buyer!=0 or self.reputation_seller!=0:return {self.buyer_public_key_hash:self.reputation_buyer,self.seller_public_key_hash:self.reputation_seller}\n        else:return None\n\n    def get_mp_info(self,step,user_public_key_hash):\n        try:step=int(step)\n        except:step=99\n        mp_details=None\n        flag=False\n        readonly_flag=False\n        if self.step!=4 and self.step!=45 and self.step!=66 and self.step!=98 and self.step!=99:\n            if step==1:\n                flag=True\n                if self.buyer_public_key_hash==user_public_key_hash:readonly_flag=True\n            if step==2:\n                if self.buyer_public_key_hash==user_public_key_hash:flag=True\n                if self.step==1:readonly_flag=True\n                if self.step==3:readonly_flag=True\n            if step==3:\n                if self.seller_public_key_hash==user_public_key_hash:flag=True\n                if self.step==2:readonly_flag=True\n            if flag is True:\n                mp_details = {\"timestamp_nig\": self.timestamp,\"requester_public_key_hash\": self.buyer_public_key_hash,\"requester_public_key_hex\": self.buyer_public_key_hex,\"seller_public_key_hash\": self.seller_public_key_hash,\"requested_amount\": self.requested_amount,\"requested_currency\":self.requested_currency,\"requested_nig\": self.requested_nig,\"payment_ref\": self.mp_request_name}\n                mp_details['seller_public_key_hex']=self.seller_public_key_hex\n                mp_details['encrypted_account']=self.encrypted_account\n                mp_details['smart_contract_ref']=self.smart_contract_ref\n                mp_details['readonly_flag']=readonly_flag\n                mp_details['buyer_reput_trans']=self.buyer_reput_trans\n                mp_details['buyer_reput_reliability']=self.buyer_reput_reliability\n                mp_details['step']=self.step\n        return mp_details\n\n    def get_mp_info_archive(self,step):\n        mp_details=None\n        if step==self.step:\n            mp_details = {\"timestamp_nig\": self.timestamp_step4, \"readonly_flag\":False}\n        return mp_details\n\n    def step1(self,mp_request_name,buyer_public_key_hash,buyer_public_key_hex,requested_amount,smart_contract_ref,new_user_flag,buyer_reput_trans,buyer_reput_reliability):\n        if buyer_public_key_hash is not None and 'None' not in buyer_public_key_hash:\n            if self.step==0:\n                self.mp_request_name=mp_request_name\n                self.buyer_public_key_hash=buyer_public_key_hash\n                self.buyer_public_key_hex=buyer_public_key_hex\n                self.requested_amount=requested_amount\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)\n                self.step=1\n                self.smart_contract_ref=smart_contract_ref\n                self.timestamp_step1=datetime.timestamp(datetime.utcnow())\n                if new_user_flag==\"True\" or new_user_flag==\"True\":new_user_flag=True\n                if new_user_flag==\"False\" or new_user_flag==\"False\":\n                    new_user_flag=False\n                    self.requested_deposit=CONVERT_2_NIG(requested_amount,self.timestamp_nig,self.requested_currency)*GET_BUYER_SAFETY_COEF()\n                self.new_user_flag=new_user_flag\n                self.buyer_reput_trans=buyer_reput_trans\n                self.buyer_reput_reliability=buyer_reput_reliability\n            else:raise ValueError('request cannot be confirmed in step 1')\n        else:raise ValueError('Please select a buyer')\n\n    def step2(self,seller_public_key_hash,seller_public_key_hex,encrypted_account,mp_request_signature):\n        if seller_public_key_hash is not None and 'None' not in seller_public_key_hash:\n            if self.step==1:\n                self.seller_public_key_hash=seller_public_key_hash\n                self.seller_public_key_hex=seller_public_key_hex\n                self.timestamp_nig=datetime.timestamp(datetime.utcnow())\n                self.requested_nig_step2=copy.deepcopy(self.requested_nig)\n                self.requested_nig_step2_flag=True\n                self.requested_nig=CONVERT_2_NIG(self.requested_amount,self.timestamp_nig,self.requested_currency)\n                self.encrypted_account=encrypted_account\n                self.mp_request_signature=mp_request_signature\n                self.step=2\n                self.timestamp_step2=datetime.timestamp(datetime.utcnow())\n            else:raise ValueError('request cannot be confirmed in step 2')\n        else:raise ValueError('Please select a seller')\n            \n\n    def step3(self,mp_request_signature):\n        if self.step==2:\n            self.mp_request_signature=mp_request_signature\n            self.step=3\n            self.timestamp_step3=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in step 3')\n\n    def step4(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=4\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 4')\n\n    def step45(self,mp_request_signature):\n        if self.step==3:\n            self.mp_request_signature=mp_request_signature\n            self.step=45\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n            self.reputation_buyer=-1\n            self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in step 45')\n\n    def check_cancellation(self,mp_request_signature):\n        if self.step<3:\n          self.mp_request_signature=mp_request_signature\n          self.step=99\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:raise ValueError('request cannot be confirmed in cancellation')\n\n    def check_payment_default(self,mp_request_signature):\n        if self.step==3:\n          self.mp_request_signature=mp_request_signature\n          self.step=66\n          self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n          self.reputation_buyer=-1\n          self.reputation_seller=1\n        else:raise ValueError('request cannot be confirmed in payment default')\n\n    def validate_step(self):\n        signature_decoded = binascii.unhexlify(self.mp_request_signature.encode(\"utf-8\"))\n        if self.step==2 or self.step==4 or self.step==45 or self.step==66:\n            public_key_bytes = self.seller_public_key_hex.encode(\"utf-8\")\n        elif self.step==3 or self.step==99:\n            public_key_bytes = self.buyer_public_key_hex.encode(\"utf-8\")\n        else:\n            raise ValueError(f'request not in predefined step:{self.step}')\n      \n        public_key_object = RSA.import_key(binascii.unhexlify(public_key_bytes))\n        transaction_bytes = json.dumps(self.get_mp_details(self.step), indent=2).encode('utf-8')\n        transaction_hash = SHA256.new(transaction_bytes)\n        pkcs1_15.new(public_key_object).verify(transaction_hash, signature_decoded)\n\n    def check_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,False)\n\n    def validate_expiration(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        return self.check_expiration_raw(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,True)\n\n    def check_expiration_raw(self,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION,error_flag):\n        expiration_flag=False\n        check_now=datetime.timestamp(datetime.utcnow())\n        if self.step==1 and check_now-self.timestamp_step1>MARKETPLACE_STEP1_EXPIRATION:expiration_flag=True\n        if self.step==2 and check_now-self.timestamp_step2>MARKETPLACE_STEP2_EXPIRATION:\n            self.reputation_buyer=-1\n            expiration_flag=True\n        if self.step==3 and check_now-self.timestamp_step3>MARKETPLACE_STEP3_EXPIRATION:\n            self.reputation_seller=-1\n            expiration_flag=True\n        if expiration_flag is True:\n            self.step=98\n            self.timestamp_step4=datetime.timestamp(datetime.utcnow())\n        else:\n            if error_flag is True:ValueError('smart_contract is not expired')\n        return expiration_flag\n\t\t\n    def get_mp_info_and_expiration(self,step,user_public_key_hash,MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION):\n        mp_info=self.get_mp_info(step,user_public_key_hash)\n        expiration=self.check_expiration(MARKETPLACE_STEP1_EXPIRATION,MARKETPLACE_STEP2_EXPIRATION,MARKETPLACE_STEP3_EXPIRATION)\n        return mp_info,expiration,self.requested_amount,self.step\n\n    def cancel(self,user_public_key_hash,mp_request_signature):\n        if self.step<3 and self.buyer_public_key_hash==user_public_key_hash:\n            CANCEL_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'Cancellation not possible in step:{self.step} for user:{user_public_key_hash}')\n\n    def payment_default(self,user_public_key_hash,mp_request_signature):\n        if self.step==3 and self.seller_public_key_hash==user_public_key_hash:\n            PAYMENT_DEFAULT_SC(self.smart_contract_ref,self.step,mp_request_signature)\n        else:\n            raise ValueError(f'payment default not possible in step:{self.step} for user:{user_public_key_hash}')\n\n\r\nmp_request_step2_done=MarketplaceRequest()\nmp_request_step2_done.step1(\"mp_request_step2_done\",\"aec5ba6714e89ee409736056d5b4fc9801a7f0bd\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001\",1000.0,\"c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f\",\"True\",[0, 0][0],[0, 0][1])\nmp_request_step2_done.account=sender\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\nmp_request_step2_done.get_requested_deposit()\n", "smart_contract_result": 0, "smart_contract_transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "smart_contract_previous_transaction": null, "account_credit_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "inputs": [{"transaction_hash": "1d499fc01f1281da0217540029441fb267b0709e118b2eec036f5c6ecb841b1f", "output_index": 0, "unlocking_script": "9935872a92c856fcce35dbec907e8168a7a2ebf5aefd167ddd9825f194bb8ebd739544d6fd9f0162f73e00333aff9a29b319dd400372e41a75491510f371da632ec0bff5934b5f965a947b5884e1a434956992002a5ca54d20e50b9d2fdcc7b0164aa705496142fca003e33d6180a1ad9934b1e2831a7cc6753bdcbfe60872e428cf0f8891ac7ef46abdd3d4d807a651371fc6f4188311b52e8d736017f5019037cc8157330a92048fa1b7ba951d38272b120b3e2571899d8720f4008ae506f40445f6dc9386dff07d04e0c22bfe7d6e25e655086581ee933e4eb98d6d624aa03f824d455e59038f5e9f95179796b763eec045a20b5f618cdb162b19d87988e3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", "unlocking_public_key_hash": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "network": "nig"}]}, "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_SC aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_SC 84d7eee902bf978d379aa988da0068d71e0037a7 OP_DEL_SC 31f2ac8088005412c7b031a6e342b17a65a48d01", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "84d7eee902bf978d379aa988da0068d71e0037a7"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 983602.1431, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 2, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, null, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 16168, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step2(\"84d7eee902bf978d379aa988da0068d71e0037a7\",\"30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001\",\"42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5\",\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "smart_contract_previous_transaction": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e_0", "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0": {"amount": 1343.3062, "locking_script": "OP_DUP OP_HASH160 31f2ac8088005412c7b031a6e342b17a65a48d01 OP_EQUAL_VERIFY OP_CHECKSIG OP_SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig", "transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "timestamp": 1717152539.91579, "output_index": 0, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "smart_contract_sender": "84d7eee902bf978d379aa988da0068d71e0037a7", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 964744.2435, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 3, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, 1717152540.493996, null, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 0, 0]]], "smart_contract_memory_size": 18857, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step3(\"4b83030a14e75dbd2021b0aeb71562b1e4df5a3e6eeba58aad0cadf5525c1d2108fb10c8a6a184049f09b128e6be1e7314cda2dc3ddfd7601cc64d4cc5cf1d18d19d619288603f3baf1fe270a681d02d52b742dc47baebbe74549c398c9e1020c9acbf566bf06097dc2efa8ab7a277eb1134d5d2720fa8cf7365e501790e04f1387491492b0a5b370fd8cabe5ff6e8a9bcfb71a6fa64344b311ac14959f91f3f9893b14653e6ab2ade6fd0235de05a06ce7fcf4823e6d182f37c9b3b66f39d2d80ef2db5f840817f9f223f36576d363bd050bb0f9e1e26c02810b800cf01bc0cbacb0a47e0fc8989b3c0b693cc3c80e06eeb17b934d7074f42ba8a3e85280ff1\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0", "smart_contract_previous_transaction": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_0", "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "output_index": 0, "unlocking_script": "75253f289d1144534b755be3a5805ee0f5e5713b15fd7f7f9c254c42563ea5a398f4e1d73cee49bdaf67384a39093b4da3a5b854055cf9add6544f5d4439f563a92f1f525668f4923f0e065b242b927ff588fb412b79427da595cb358990705ac76ecc94864908d7ea7245efdf146fa8a8b0897fecce0ea1c0197bbfd3318e4998e59ecd18e749a9edb259cc849ce9f98a92ee3c843044600ddc151be3d803c38383ad826ad35d51992743763dcacf6a4acc43d51c0abc87ea3e1175542d47503d687eca0182bf56a9f7b7cc5bb65ad7e94953e8f3728c0cf585308206dc63bc9a0605c40d0f310a0c8d400bfd0758a318d97df0048da37e08821651427454b3 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_0": {"amount": 0.0, "locking_script": "OP_DUP OP_HASH160 c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a", "timestamp": 1717152647.586308, "output_index": 0, "fee_interface": 0.0, "fee_miner": 0.0, "fee_node": 0.0, "account_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "smart_contract_sender": "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", "smart_contract_new": false, "smart_contract_account": "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "smart_contract_flag": true, "smart_contract_gas": 945872.8388, "smart_contract_memory": [["MarketplaceRequest", "mp_request_step2_done", ["account", "step", "timestamp", "requested_amount", "requested_currency", "requested_deposit", "buyer_public_key_hash", "timestamp_step1", "timestamp_step2", "timestamp_step3", "timestamp_step4", "buyer_public_key_hex", "requested_nig", "timestamp_nig", "seller_public_key_hex", "seller_public_key_hash", "encrypted_account", "buyer_reput_trans", "buyer_reput_reliability", "mp_request_signature", "mp_request_id", "previous_mp_request_name", "mp_request_name", "seller_safety_coef", "smart_contract_ref", "new_user_flag", "reputation_buyer", "reputation_seller"], ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 4, 1717152316.559166, 1000.0, "EUR", 0, "aec5ba6714e89ee409736056d5b4fc9801a7f0bd", 1717152316.559166, 1717152447.549947, 1717152540.493996, 1717152648.186378, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b7b3d8a6a6192934167a2e0a48248683c9480e837ce4e92295672aa873d6e81d0cc88cfed757dbb4c9105fc596e14983636898c0a436e091b66d3cc113269e58a08c1c4fc1439f568b0d7ce704f9a8abb5d75d7b3eb22447915e29764c709f3a478dfec64721c72ae1754b523d4bbdc45ce02e2f608f6bc9a6cdbb2f9b97c9723a85c86e5bda7f3d803f805815db4aac1f496568358ae08fdafaed8ff64c83c903ac9fae508b510d61311701a8ab26d9364ee86323f86743cf3373ee7094a1fc446454f9b15d1e875c89b8eeca9bdb4c001bc9bd181f85a7371c1a77a94dd827cb08cb5c892a0a8842a49327a5d5cfa89ca75d74f0ee0f114a612e93e463800d0203010001", 671.6531, 1717152447.548933, "30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "84d7eee902bf978d379aa988da0068d71e0037a7", "42c0f409b096396c40204e5b7884d0445a19c2f158b6696a1e16ebbd23ce19821d6f01ec7a85d33d94531fa24de332bdeb00046f7e1a81d50e4d427dedafb22ae783a64db068991f430a74c5604ed58573815d3e2ccba723bfe21ce91c6d0f7e176efc898bfc01f80474a898bb3f02456f4d067c4af3d3b3ecdc48406df59d0e36bc2c3d62cea27bd5ccc598cb04579eeac8a0f837de9c9670412a4df8c1537e1d7beae1b0504cd27606c2a8d05b55eadf2091458749ef89a0a89c9b5f39456a0360cc00f0eca9b986aef4f1d08fd18ba7ef5dae51fce8fd35b3d749b8813d7098ee7b6b1435bc1f58e136140c2a782bf1270a3ceec015dfcf2330707b465175 2ea4da52d2edf9c4140efc58606c25874843fd2773ccf0b84fdf4a58f65a833dccd5b3e7a7e02fcd1731459206bf3f90c2a400567004f184783fc6b025e607315cda43ec5de47f5f3eb53ac2c81e2d9bba53ab6a58674e71605c01dee9d7882a53b6955b659c6e8cd61124a65e8282b38eb8030c77faad0d98e590b001193abcfe89a8d127c407ac4c27d5f8562cf72938b1177dab1fbb5145b1dbfb4dec0d59f21978db6dc386e85bed010ca0336a95170b86f24c235110a32adc536b2803e3d157ba4909d8dc643271af2d800c1743d7b737df0ef55624cb04e50a8469ab1fb025a5eb7d58810985bcc7c357008213cf870124f4ce9063034084fedaaa7f07 44aef34940b67adb1d8e99264df908ef7eb64a377c6227536f4e908370660429173f3441118d60052e0af158c041acf87fdf5c9b527fe7328e700a0cc4c614a5b92f31fc58f28add30dd51edfda6f6cb7341a805611804dabc457e662b22ab47736d1fc977659ea5c8ae27c1efc90636d660e7b0bc7cd72a9c9fde23be094a79187904d349b3d21d31de475755f0d0220f04ddacbc6165564edf30600014f1cfb462a9bb6033fed751f654545f41d9fd58065f08a5ec828e89ebe55012076640b8d83abc230f9cc4daf5449449a395e2b12ee50145ce9ed1923f079f1743063d3c767864fbd80586db8cefeccabd56d16a9c59d1818584c283b4d071c3c0e6a5", 0, 0, "265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855", 82679162, null, "mp_request_step2_done", 2, "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", true, 1, 1]]], "smart_contract_memory_size": 18870, "smart_contract_type": "source", "smart_contract_payload": "\r\nmemory_obj_2_load=['mp_request_step2_done']\nmp_request_step2_done.step4(\"265dbdf99b306a6ea9e07ea7c08244f3d1f76daffae26e6cb7776c962a1585bbfb89d7dd6191cbc428aed6f7eff6ad713a0480e0a3ec7e40d48595fef04a32b9fc98452ae45f431a363005207670b7133d2c045a285add07809a0d82ec02641070e8a7cd2f8d8e74fe1bfb3723b7dc156689d43827b8b9b9206c9702e5328482e83159ce62e6cacd03362e936123706c9c4ad57360d907eddfcb1458ddc2873d3e97997d3cd2a266ebca7c9ef8b924b7aff632c6543e59a026351d2ed3a45b8dded70c65639b9454c177f998900c575e855b4512bc9e614051c9c67e74b575609a4f560ff259d03b19df03507cbd3ecb5af2c44a3a03006ac8802ad69a74b855\")\nmp_request_step2_done.validate_step()\nmemory_list.add([mp_request_step2_done,mp_request_step2_done.mp_request_name,['account','step','timestamp','requested_amount',\n  'requested_currency','requested_deposit','buyer_public_key_hash','timestamp_step1','timestamp_step2','timestamp_step3','timestamp_step4',\n  'buyer_public_key_hex','requested_nig','timestamp_nig','seller_public_key_hex','seller_public_key_hash','encrypted_account','buyer_reput_trans','buyer_reput_reliability',\n  'mp_request_signature','mp_request_id','previous_mp_request_name','mp_request_name','seller_safety_coef','smart_contract_ref','new_user_flag','reputation_buyer','reputation_seller']])\n\n123456\n", "smart_contract_result": 123456, "smart_contract_transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_0", "smart_contract_previous_transaction": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69_0", "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "output_index": 0, "unlocking_script": "c495953a9c8cef30886024d207c7a9080521a32e9d5ebb5354e0d95638a54d00211158dcc27d41c25d5abbb65d0e13d96a71cafb189d0457d9ead7510974ba2dc7e958c43b7289667a580b6440f7b5fe637643c1a72b878f03c30abc0baa498dd5aba651e553cd297a62715acc6282a2072031a092c1800f3506d7ab6447067fc814acac0e79b9abb16dcc2b01f8df47d8b78bdd4afb018ab0237e903a37c0f468c8d6c059e0e16378941374d150a4aab5e4b3a049c9a9e353a9aa04d0e8dc01f725f01a74ce189d73a36c39be4712b1732259167193b16404f7793863f7f75a09c3135d6640e76cc5c3db81ea8837b78bd8283642654e5b1f689b942f29812f 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}, "debit": {"5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad_1": {"amount": 98656.6938, "locking_script": "OP_DUP OP_HASH160 84d7eee902bf978d379aa988da0068d71e0037a7 OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "5f09ea7228060431bf2f46488a3475b7271ff482dfce19b3e847d3b0677204ad", "timestamp": 1717152447.038889, "output_index": 1, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["84d7eee902bf978d379aa988da0068d71e0037a7"], "account_credit_list": ["84d7eee902bf978d379aa988da0068d71e0037a7", "c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "4a569ff9cd03d2519ac67d9ccb443d860c9fe5d820d53f15c3a8ef376fe97d08", "output_index": 0, "unlocking_script": "2c088118e0d5abc2d828706edb94a48c018a61979cd78728c67998f2f8f3a6af61cd007dce1f798ea5e0b70ae84924510293a5ca84ec98c1f0666ab43c8a3e7a3c33a706037222e8c3caf0452bb5fa39895fdac418a4a6ef3d362ddd8b199a357e466067898b822e49dde947bb140fb1bafa62ab4f11cad1b6777a3640a59d49dd39939669fa74914c7a520e6ea01ceed6d083f1c66f6291997731ff4f4b2fb28ced8781d0186f21d435ade9aeaa663e584a412322ced7e7fefc2bbb5b44121343ffbb5dd0ce15b7f893483049fefbe2eb1ad62e74003072558b236cfbc42cdb512dfd6381bb19d3196824838a6ce804bcef7cda9f2cfddb941c0fcc289303f7 30820122300d06092a864886f70d01010105000382010f003082010a0282010100b15664fdd03c3c3a2f426f5b86c7391ea4a2cfcf2b4a18241d1cc38cb7b6205515037466757d13f97c7b71197a5e881f857783e3800e975ff70d43b732fb0ec9b2c0a9d62a52b5333b3931a0b6fb6fb08d91ac60fab0527c6e4ebdc9917aaf6b51e409e837dc4bc213369bdda7b1e4f20a615e58706100f562dceb72153d8fec052bdd70e1c53406ef013d38c689c320fe33dccdda0bbe2ff88a43b4cab4b7f681bcf58becaf7008796d4a40d3c16707d7c639a1981520f14850b2471a95556291a3f66f8a8d95e8aaabf2ad012bac2c1ffefdb6d0658ed28d9a4df57ee91b796770492194a2ed17851551c9dcf50a28fb9321c6dd0ffd21b77378ca96f6e6b90203010001", "unlocking_public_key_hash": "84d7eee902bf978d379aa988da0068d71e0037a7", "network": "nig"}, {"transaction_hash": "ec8d1e949ca379121c3ec6574df88cab6f178261cda6c2518f0973e239718b9e", "output_index": 0, "unlocking_script": "b971ec337dfc157c24238febd03a39c2484a69fb844c1d82c6ea813bf9ad1e4b6ac55e110c9483ef324f384bf74c5dca2452cd426805ad9950e75ba8f4e8ce64b582e8a5473e9b1460aafa565ecec5ab1f196fe1f3195e16ff13438a11c96c4cd88b95ddf3030ffd1a149cc72eec760eef7a55c03defad449544c603cee642af557e39ab87bfa4e0ef86495988ccaeea10c958b05292b01af90b0ccd9d6ebfe6aa66bcc122d6e2424784b3c07ff5028132a9ee80a72df7fae0ac905cdd71702f0d0e0fbc5110251afe4f418521aca415cea617d9d033d68b71523def19e074ffdbb9fb9aebef30b628c9647754175cb33e7cbdb06a3f543c7c1dffbca6733296 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_1": {"amount": 670.9815, "locking_script": "OP_DUP OP_HASH160 aec5ba6714e89ee409736056d5b4fc9801a7f0bd OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a", "timestamp": 1717152647.586308, "output_index": 1, "fee_interface": 0.2015, "fee_miner": 0.3358, "fee_node": 0.1343, "account_list": ["aec5ba6714e89ee409736056d5b4fc9801a7f0bd"], "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "output_index": 0, "unlocking_script": "c495953a9c8cef30886024d207c7a9080521a32e9d5ebb5354e0d95638a54d00211158dcc27d41c25d5abbb65d0e13d96a71cafb189d0457d9ead7510974ba2dc7e958c43b7289667a580b6440f7b5fe637643c1a72b878f03c30abc0baa498dd5aba651e553cd297a62715acc6282a2072031a092c1800f3506d7ab6447067fc814acac0e79b9abb16dcc2b01f8df47d8b78bdd4afb018ab0237e903a37c0f468c8d6c059e0e16378941374d150a4aab5e4b3a049c9a9e353a9aa04d0e8dc01f725f01a74ce189d73a36c39be4712b1732259167193b16404f7793863f7f75a09c3135d6640e76cc5c3db81ea8837b78bd8283642654e5b1f689b942f29812f 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}, "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a_2": {"amount": 671.6531, "locking_script": "OP_DUP OP_HASH160 84d7eee902bf978d379aa988da0068d71e0037a7 OP_EQUAL_VERIFY OP_CHECKSIG", "network": "nig", "transaction_hash": "1360327dc9453b14ca6156587873e626dbb2c4de7071e829b749f91791c7e72a", "timestamp": 1717152647.586308, "output_index": 2, "fee_interface": 0, "fee_miner": 0, "fee_node": 0, "account_list": ["84d7eee902bf978d379aa988da0068d71e0037a7"], "account_credit_list": ["c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f"], "inputs": [{"transaction_hash": "a2a561a4b9dea162e7456b826111c382be2d1ba30ddd2a5acabec862dec35b69", "output_index": 0, "unlocking_script": "c495953a9c8cef30886024d207c7a9080521a32e9d5ebb5354e0d95638a54d00211158dcc27d41c25d5abbb65d0e13d96a71cafb189d0457d9ead7510974ba2dc7e958c43b7289667a580b6440f7b5fe637643c1a72b878f03c30abc0baa498dd5aba651e553cd297a62715acc6282a2072031a092c1800f3506d7ab6447067fc814acac0e79b9abb16dcc2b01f8df47d8b78bdd4afb018ab0237e903a37c0f468c8d6c059e0e16378941374d150a4aab5e4b3a049c9a9e353a9aa04d0e8dc01f725f01a74ce189d73a36c39be4712b1732259167193b16404f7793863f7f75a09c3135d6640e76cc5c3db81ea8837b78bd8283642654e5b1f689b942f29812f 30820122300d06092a864886f70d01010105000382010f003082010a0282010100e3d338c7a46785514c37293971ed3a5757fc5e9e3042bc9cba75504bde5eee57c9cc788506042425662a45d320ca23e5aaeb989e1719f064e6fe228d9f0a316a06acd708a5536bb5cc1e0b8307ee9848e00729d5a171f00e2a435e719be1da99d7039d8c331bf869270a537b104b228a91061ada0be7918e8d88c8adadb0be2823026b751db63d0b101d7146f5b50a463161877aa3130e69be35d5f4eb71073a40bd1766c4440709eae3c9f0bfbeed6fa28358334721d497b9f3d6c31b9a258fe1d89fe3ebf5bffafc36e9fc8cbd82a57b9bec0e4cea390df37a87d60d585e808559abd83d81a2f2737e235ce2fc0cdee68770d917bf093d0ad5645610b4f4230203010001", "unlocking_public_key_hash": "31f2ac8088005412c7b031a6e342b17a65a48d01 SC c2fcc2794f9f170ee009b4c539ffb28d3f53ff8f", "network": "nig"}]}}}}}